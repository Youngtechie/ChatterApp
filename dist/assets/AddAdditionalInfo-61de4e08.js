import{d as w,u as B,r as n,o as q,s as V,a as k,c as y,e as L,f as M,g as e,m as l,B as u,D as b,w as U,p as N,q as F,_ as D}from"./index-a41cb3dd.js";import{P,a as T,g as x,y as E}from"./index.esm2017-62f401cd.js";import{u as H,a as O}from"./useAuth.vue_vue_type_script_lang-a9283b65.js";import{u as $}from"./useUserDetails.vue_vue_type_script_lang-2f39a4c8.js";import{_ as R}from"./useLoadingPage.vue_vue_type_style_index_0_lang-0462ce87.js";import{S as G}from"./useSignOut.vue_vue_type_script_lang-1e71dc39.js";const s=r=>(N("data-v-f046719d"),r=r(),F(),r),j={key:1,id:"otherInfoCon"},z=["onSubmit"],J={class:"fullname"},K=s(()=>e("label",{for:"fullname2"},"Full Name:",-1)),Q={class:"username"},W=s(()=>e("label",{for:"username2"},"Username:",-1)),X={class:"gender"},Y=s(()=>e("h3",null,"Choose your gender",-1)),Z={class:"radioGroup"},ee=s(()=>e("label",{for:"male2"},"Male",-1)),te=s(()=>e("label",{for:"female2"},"Female",-1)),oe={class:"birthday"},se=s(()=>e("label",{for:"birthday2"},"Birthday:",-1)),ae={class:"Location"},ne=s(()=>e("label",{for:"country2"}," Country: ",-1)),le={class:"interests"},ie={class:"section"},de=s(()=>e("label",{for:"interests"},"Interests:",-1)),ue=s(()=>e("span",{class:"example-note"},"Example: Food, Travel, Sport, Programming, Fashion, Meme",-1)),re={class:"btns"},me=s(()=>e("input",{type:"submit",value:"Submit",class:"submit-button"},null,-1)),ce=["onClick"],pe=w({__name:"AddAdditionalInfo",setup(r){const{app:C}=H(),m=B(),a=O(),h=P(C),c=n("");q(()=>{$()}),V(()=>{a.signedUser.fullName&&(c.value=a.signedUser.fullName)});const i=n(""),p=n(""),d=n(""),_=n(""),v=n(!0),f=n("");async function I(){await T(x(h,"users",`${a.signedUser.id}`),{blogName:i.value.charAt(0).toUpperCase()+i.value.slice(1).toLowerCase()+"Blog",username:i.value.charAt(0).toUpperCase()+i.value.slice(1).toLowerCase(),dateOfBirth:_.value,location:p.value,gender:d.value,isLogined:!0,interests:f.value.split(","),fullName:c.value}),m.push({name:"Home"})}async function A(){let g=a.signedUser.id;G().then(()=>{E(x(h,"users",`${g}`)).then(()=>{a.signedUser={},a.authenticated=!1,m.push("/")}).catch(t=>{console.log(t)})})}let S=setTimeout(()=>{a.signedUser.username!==void 0?a.signedUser.username.trim()!==""?m.push({name:"Home"}):v.value=!1:m.push({name:"Home"})},5e3);return k(()=>{clearTimeout(S)}),(g,t)=>v.value?(y(),L(R,{key:0,"action-name":"Loading..."},null,8,["action-name"])):(y(),M("div",j,[e("form",{onSubmit:U(I,["prevent"]),class:"otherInfoForm"},[e("section",J,[K,l(e("input",{type:"text",id:"fullname2",required:"",autocomplete:"additional-name","onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o)},null,512),[[u,c.value]])]),e("section",Q,[W,l(e("input",{type:"text",id:"username2",required:"",autocomplete:"username","onUpdate:modelValue":t[1]||(t[1]=o=>i.value=o),pattern:"[^\\d]+",maxlength:"15"},null,512),[[u,i.value]])]),e("section",X,[Y,e("div",Z,[l(e("input",{type:"radio",value:"Male",name:"gender",id:"male2",required:"","onUpdate:modelValue":t[2]||(t[2]=o=>d.value=o)},null,512),[[b,d.value]]),ee,l(e("input",{type:"radio",value:"Female",name:"gender",id:"female2",required:"","onUpdate:modelValue":t[3]||(t[3]=o=>d.value=o)},null,512),[[b,d.value]]),te])]),e("section",oe,[se,l(e("input",{type:"date",id:"birthday2",required:"","onUpdate:modelValue":t[4]||(t[4]=o=>_.value=o)},null,512),[[u,_.value]])]),e("section",ae,[ne,l(e("input",{type:"text",id:"country2",placeholder:"Country",required:"",autocomplete:"country-name","onUpdate:modelValue":t[5]||(t[5]=o=>p.value=o)},null,512),[[u,p.value]])]),e("div",le,[e("div",ie,[de,l(e("input",{type:"text",id:"interests",placeholder:"Posts tags separate with a comma",required:"","onUpdate:modelValue":t[6]||(t[6]=o=>f.value=o)},null,512),[[u,f.value]])]),ue]),e("section",re,[me,e("button",{onClick:U(A,["prevent"]),class:"delete-button"},"Delete Account",8,ce)])],40,z)]))}});const be=D(pe,[["__scopeId","data-v-f046719d"]]);export{be as default};
