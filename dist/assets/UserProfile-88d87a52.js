import{d as N,u as S,r as B,o as I,a as k,b as l,c as P,e as a,f as e,w as x,g as t,t as o,h as c,j as u,y as m,l as i,k as y,F as L,x as E,p as F,m as R,_ as T}from"./index-39bb5b9b.js";import{a as D}from"./useAuth.vue_vue_type_script_lang-154466f4.js";import{_ as V}from"./useLoadingPage.vue_vue_type_style_index_0_lang-2ea5b231.js";import{u as $}from"./useUserDetails.vue_vue_type_script_lang-6cc3b925.js";import{S as j}from"./useSignOut.vue_vue_type_script_lang-8cf6ffe2.js";import"./index.esm-06e63244.js";import"./index.esm2017-1c1d52a4.js";import"./index.esm2017-a0d21084.js";const n=p=>(F("data-v-0728ef46"),p=p(),R(),p),O={key:1},q=["onClick"],z=["title"],A={id:"themeImgContainer"},G=["src"],H={class:"body"},M={class:"imageCon"},J={class:"imgCon"},K=["src","alt"],Q={class:"sectionFoImage"},W={key:0},X={key:1},Y={class:"follow"},Z=n(()=>e("p",null,"||",-1)),ee={class:"btns"},se=n(()=>e("button",null,"Edit Profile",-1)),te={class:"readerSec"},oe={class:"btnSection"},ne=n(()=>e("span",null,"Full Name:",-1)),ie=n(()=>e("span",null,"User Name:",-1)),le=n(()=>e("span",null,"Biography:",-1)),ae={key:0},re=n(()=>e("span",null,"Email:",-1)),de=n(()=>e("span",null,"Location:",-1)),ce=n(()=>e("span",null,"Birthday:",-1)),ue=n(()=>e("span",null,"Gender:",-1)),_e={key:1},pe=n(()=>e("span",null,"Interests:",-1)),he={key:0},me={key:1},ge={id:"navigators"},fe=n(()=>e("button",null,"Home",-1)),ve=n(()=>e("button",null,"Search",-1)),Ue=n(()=>e("button",{id:"notification-button"},[i("Notification"),e("span",{class:"dot"})],-1)),ke=N({__name:"UserProfile",setup(p){const _=S(),s=D();$();function b(){_.go(-1)}function f(v){s.section=v}const g=B(!0);let w=setTimeout(()=>{s.signedUser.id===void 0&&s.authenticated===!1?_.push("/home"):s.authenticated===!0?s.signedUser.id===void 0&&s.signedUser.username===void 0?_.push({name:"NetworkError",query:{redirect:`${_.currentRoute.value.path}`}}):s.signedUser.id!==void 0&&s.signedUser.username===""?(console.log("User registration not finished... Logging out user....."),j(),s.authenticated=!1,_.push("/login")):g.value=!1:g.value=!1},5e3);return I(()=>{clearTimeout(w)}),(v,d)=>{const U=k("P"),h=k("RouterLink");return g.value?(l(),P(V,{key:0,"action-name":"Loading profile..."})):(l(),a("main",O,[e("header",null,[e("button",{onClick:x(b,["prevent"])},"Back",8,q),e("button",{title:t(s).themeDetails.title,id:"themeBtn",onClick:d[0]||(d[0]=(...r)=>t(s).changeTheme&&t(s).changeTheme(...r))},[e("div",A,[e("img",{src:t(s).themeDetails.img},null,8,G)])],8,z)]),e("div",H,[e("div",M,[e("div",J,[e("img",{src:t(s).signedUser.profilePicture,height:"40",alt:t(s).signedUser.fullName+"profile pic"},null,8,K)])]),e("section",Q,[e("h3",null,o(t(s).signedUser.fullName),1),t(s).asReader?(l(),a("p",W,"Reader")):(l(),a("p",X,"Author")),e("div",Y,[c(U,null,{default:u(()=>[i(o(t(s).signedUser.followers.total)+" Followers",1)]),_:1}),Z,c(U,null,{default:u(()=>[i(o(t(s).signedUser.following.total)+" Following",1)]),_:1})])]),e("div",ee,[c(h,{to:{name:"EditProfile"}},{default:u(()=>[se]),_:1})]),e("div",te,[e("div",oe,[e("button",{onClick:d[1]||(d[1]=r=>f("personal")),class:m({active:t(s).section==="personal"})},"Personal",2),e("button",{onClick:d[2]||(d[2]=r=>f("interaction")),class:m({active:t(s).section==="interaction"})},"Interactions",2)]),e("div",{class:m({show:t(s).section==="personal",none:t(s).section!=="personal",personal:!0})},[e("p",null,[ne,i(" "+o(t(s).signedUser.fullName),1)]),e("p",null,[ie,i(" @"+o(t(s).signedUser.username),1)]),e("p",null,[le,i(" "+o(t(s).signedUser.bio),1)]),t(s).signedUser.settings.privacySettings.showEmail?(l(),a("p",ae,[re,i(" "+o(t(s).signedUser.email),1)])):y("",!0),e("p",null,[de,i(" "+o(t(s).signedUser.location),1)]),e("p",null,[ce,i(" "+o(t(s).signedUser.dateOfBirth),1)]),e("p",null,[ue,i(" "+o(t(s).signedUser.gender),1)]),t(s).signedUser.interests.length>0?(l(),a("p",_e,[pe,i(" "+o(t(s).signedUser.interests.join(",")),1)])):y("",!0)],2),e("div",{class:m({show:t(s).section==="interaction",none:t(s).section!=="interaction",section:!0})},[t(s).signedUser.interactions.length===0?(l(),a("p",he,"No interactions yet.")):(l(),a("div",me,[(l(!0),a(L,null,E(t(s).signedUser.interactions,(r,C)=>(l(),a("div",{key:C},[e("p",null,o(r.type),1),e("p",null,o(r.details.followerId),1),e("p",null,o(r.details.time),1)]))),128))]))],2)])]),e("section",ge,[c(h,{to:"/home"},{default:u(()=>[fe]),_:1}),c(h,{to:"/search"},{default:u(()=>[ve]),_:1}),c(h,{to:"/notification"},{default:u(()=>[Ue]),_:1})])]))}}});const Pe=T(ke,[["__scopeId","data-v-0728ef46"]]);export{Pe as default};
