import{d as w,u as B,r as n,o as q,x as V,a as k,c as y,e as L,f as M,g as e,p as l,B as r,E as U,w as b,q as N,s as F}from"./index-691c7388.js";import{P as D,a as E,g as x,y as P}from"./index.esm2017-cd82f12f.js";import{u as T,a as H}from"./useAuth.vue_vue_type_script_lang-090849db.js";import{u as O}from"./useUserDetails.vue_vue_type_script_lang-d60ffb99.js";import{_ as $}from"./useLoadingPage.vue_vue_type_style_index_0_lang-0b87aea8.js";import{S as R}from"./useSignOut.vue_vue_type_script_lang-f4baf324.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";const a=u=>(N("data-v-206b95ae"),u=u(),F(),u),j={key:1,id:"otherInfoCon"},z=["onSubmit"],J={class:"fullname"},K=a(()=>e("label",{for:"fullname2"},"Full Name:",-1)),Q={class:"username"},W=a(()=>e("label",{for:"username2"},"Username:",-1)),X={class:"gender"},Y=a(()=>e("h3",null,"Choose your gender",-1)),Z={class:"radioGroup"},ee=a(()=>e("label",{for:"male2"},"Male",-1)),te=a(()=>e("label",{for:"female2"},"Female",-1)),se={class:"birthday"},oe=a(()=>e("label",{for:"birthday2"},"Birthday:",-1)),ae={class:"Location"},ne=a(()=>e("label",{for:"country2"}," Country: ",-1)),le={class:"interests"},ie={class:"section"},de=a(()=>e("label",{for:"interests"},"Interests:",-1)),re=a(()=>e("span",{class:"example-note"},"Example: Food, Travel, Sport, Programming, Fashion, Meme",-1)),ue={class:"btns"},me=a(()=>e("input",{type:"submit",value:"Submit",class:"submit-button"},null,-1)),ce=["onClick"],pe=w({__name:"AddAdditionalInfo",setup(u){const{app:C}=T(),m=B(),t=H(),v=D(C),c=n("");q(()=>{O()}),V(()=>{t.signedUser.fullName&&(c.value=t.signedUser.fullName)});const i=n(""),p=n(""),d=n(""),_=n(""),h=n(!0),f=n("");async function I(){t.signedUser.id!==void 0&&t.signedUser.id!==null&&t.signedUser.id!==""&&(await E(x(v,"users",`${t.signedUser.id}`),{blogName:i.value.charAt(0).toUpperCase()+i.value.slice(1).toLowerCase()+"Blog",username:i.value.charAt(0).toUpperCase()+i.value.slice(1).toLowerCase(),dateOfBirth:_.value,location:p.value,gender:d.value,isLogined:!0,interests:f.value.split(","),fullName:c.value}),m.push({name:"Home"}))}async function A(){if(t.signedUser.id!==void 0&&t.signedUser.id!==""&&t.signedUser.id!==null){let g=t.signedUser.id;R().then(()=>{P(x(v,"users",`${g}`)).then(()=>{t.signedUser={},t.authenticated=!1,m.push("/")})})}}let S=setTimeout(()=>{t.signedUser.username!==void 0?t.signedUser.username.trim()!==""?m.push({name:"Home"}):h.value=!1:m.push({name:"Home"})},5e3);return k(()=>{clearTimeout(S)}),(g,s)=>h.value?(y(),L($,{key:0,"action-name":"Loading..."},null,8,["action-name"])):(y(),M("div",j,[e("form",{onSubmit:b(I,["prevent"]),class:"otherInfoForm"},[e("section",J,[K,l(e("input",{type:"text",id:"fullname2",required:"",autocomplete:"additional-name","onUpdate:modelValue":s[0]||(s[0]=o=>c.value=o)},null,512),[[r,c.value]])]),e("section",Q,[W,l(e("input",{type:"text",id:"username2",required:"",autocomplete:"username","onUpdate:modelValue":s[1]||(s[1]=o=>i.value=o),pattern:"[^\\d]+",maxlength:"15"},null,512),[[r,i.value]])]),e("section",X,[Y,e("div",Z,[l(e("input",{type:"radio",value:"Male",name:"gender",id:"male2",required:"","onUpdate:modelValue":s[2]||(s[2]=o=>d.value=o)},null,512),[[U,d.value]]),ee,l(e("input",{type:"radio",value:"Female",name:"gender",id:"female2",required:"","onUpdate:modelValue":s[3]||(s[3]=o=>d.value=o)},null,512),[[U,d.value]]),te])]),e("section",se,[oe,l(e("input",{type:"date",id:"birthday2",required:"","onUpdate:modelValue":s[4]||(s[4]=o=>_.value=o)},null,512),[[r,_.value]])]),e("section",ae,[ne,l(e("input",{type:"text",id:"country2",placeholder:"Country",required:"",autocomplete:"country-name","onUpdate:modelValue":s[5]||(s[5]=o=>p.value=o)},null,512),[[r,p.value]])]),e("div",le,[e("div",ie,[de,l(e("input",{type:"text",id:"interests",placeholder:"Posts tags separate with a comma",required:"","onUpdate:modelValue":s[6]||(s[6]=o=>f.value=o)},null,512),[[r,f.value]])]),re]),e("section",ue,[me,e("button",{onClick:b(A,["prevent"]),class:"delete-button"},"Delete Account",8,ce)])],40,z)]))}});const be=G(pe,[["__scopeId","data-v-206b95ae"]]);export{be as default};
