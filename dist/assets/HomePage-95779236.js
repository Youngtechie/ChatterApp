import{d as R,u as V,r as v,o as B,a as U,b as x,c as l,e as C,f as a,g as e,w as g,h as o,i as d,j as c,k as u,l as h,t as H,m as G,v as A,p as O,n as P,_ as I}from"./index-f1eab0dd.js";import{u as N,a as D,s as T}from"./useAuth.vue_vue_type_script_lang-298818ca.js";import{_ as j}from"./useLoadingPage.vue_vue_type_style_index_0_lang-a1fcb670.js";import{P as E,g as $,a as q}from"./index.esm2017-96b642a7.js";import{u as J}from"./useUserDetails.vue_vue_type_script_lang-3dc9a373.js";import{S as X}from"./useSignOut.vue_vue_type_script_lang-190ae6a2.js";const n=_=>(O("data-v-4e00d1d6"),_=_(),P(),_),Z={key:1,id:"HomePage"},F=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ffffff",width:"24px",height:"24px"},[e("path",{d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M3 18h18v-2H3v2zM3 13h18v-2H3v2zM3 6v2h18V6H3z"})],-1)),K=[F],Q=n(()=>e("h1",null,"Chatter",-1)),W=["title"],Y={id:"themeImgContainer"},e1=["src"],t1={key:0,class:"sidebar"},o1=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ffff",width:"24px",height:"24px"},[e("path",{d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),s1=[o1],n1={key:0,class:"profileSection"},i1=["src","alt"],l1=["onClick"],r1=n(()=>e("svg",{fill:"#ffffff",height:"15px",width:"15px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 330 330","xml:space":"preserve"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("path",{id:"XMLID_225_",d:"M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"})])],-1)),a1=[r1],d1={key:1,class:"nav-nologined-btn"},c1={id:"loginSection"},u1=n(()=>e("button",null,"Join/Login",-1)),p1=n(()=>e("button",null,[e("svg",{height:"24px",width:"24px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"-41.56 -41.56 498.71 498.71","xml:space":"preserve",fill:"#000000"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("g",null,[e("path",{style:{fill:"none"},d:"M207.795,24C106.451,24,24,106.45,24,207.793c0,101.346,82.451,183.797,183.795,183.797 c101.344,0,183.795-82.451,183.795-183.797C391.59,106.45,309.139,24,207.795,24z M322.508,109.027l-0.098,0.181 c-0.137,0.283-0.287,0.558-0.445,0.83l-72.305,134.701c-1.115,2.073-2.814,3.773-4.889,4.887l-135.131,72.572 c-0.048,0.026-0.096,0.053-0.145,0.078l-0.051,0.027l-0.002-0.003c-3.391,1.735-7.548,1.836-11.156-0.105 c-1.06-0.569-2-1.275-2.809-2.085c-3.648-3.648-4.648-9.389-2.08-14.166l72.596-135.034c1.114-2.073,2.813-3.773,4.887-4.888 l135.065-72.625c5.838-3.139,13.113-0.952,16.252,4.887c1.861,3.463,1.836,7.427,0.299,10.738L322.508,109.027z"}),e("polygon",{style:{fill:"none"},points:"133.371,282.278 219.172,236.141 179.502,196.47 "}),e("path",{style:{fill:"#fff"},d:"M207.795,0C93.217,0,0,93.216,0,207.793C0,322.372,93.217,415.59,207.795,415.59 c114.578,0,207.795-93.218,207.795-207.797C415.59,93.216,322.374,0,207.795,0z M207.795,391.59 C106.451,391.59,24,309.139,24,207.793C24,106.45,106.451,24,207.795,24C309.139,24,391.59,106.45,391.59,207.793 C391.59,309.139,309.139,391.59,207.795,391.59z"}),e("polygon",{style:{fill:"#0b63d5"},points:"236.153,219.179 282.282,133.371 196.48,179.507 "}),e("path",{style:{fill:"#fff"},d:"M322.198,98.284c-3.139-5.839-10.414-8.025-16.252-4.887l-135.065,72.625 c-2.073,1.115-3.773,2.814-4.887,4.888L93.398,305.945c-2.568,4.777-1.568,10.518,2.08,14.166c0.809,0.81,1.748,1.516,2.809,2.085 c3.608,1.94,7.766,1.84,11.156,0.105l0.002,0.003l0.051-0.027c0.049-0.025,0.097-0.052,0.145-0.078l135.131-72.572 c2.074-1.114,3.773-2.813,4.889-4.887l72.305-134.701c0.158-0.272,0.309-0.547,0.445-0.83l0.098-0.181l-0.012-0.004 C324.034,105.711,324.059,101.747,322.198,98.284z M133.371,282.278l46.131-85.808l39.67,39.671L133.371,282.278z M236.153,219.179 l-39.672-39.672l85.801-46.136L236.153,219.179z"})])])]),h(" Explore ")],-1)),h1={key:2,id:"MoreAccounts"},g1=n(()=>e("span",null,"Reader",-1)),_1={key:0},f1=n(()=>e("span",null,"Author",-1)),w1={key:0},m1={key:3,class:"otherNavDetails"},v1=n(()=>e("button",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ffff",width:"24px",height:"24px"},[e("path",{d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-.5-10h-3v2h3v-2zm0 4h-3v6h3v-6z"})]),h(" User Analysis ")],-1)),x1=n(()=>e("button",null,[e("svg",{height:"24px",width:"24px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"-41.56 -41.56 498.71 498.71","xml:space":"preserve",fill:"#000000"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("g",null,[e("path",{style:{fill:"none"},d:"M207.795,24C106.451,24,24,106.45,24,207.793c0,101.346,82.451,183.797,183.795,183.797 c101.344,0,183.795-82.451,183.795-183.797C391.59,106.45,309.139,24,207.795,24z M322.508,109.027l-0.098,0.181 c-0.137,0.283-0.287,0.558-0.445,0.83l-72.305,134.701c-1.115,2.073-2.814,3.773-4.889,4.887l-135.131,72.572 c-0.048,0.026-0.096,0.053-0.145,0.078l-0.051,0.027l-0.002-0.003c-3.391,1.735-7.548,1.836-11.156-0.105 c-1.06-0.569-2-1.275-2.809-2.085c-3.648-3.648-4.648-9.389-2.08-14.166l72.596-135.034c1.114-2.073,2.813-3.773,4.887-4.888 l135.065-72.625c5.838-3.139,13.113-0.952,16.252,4.887c1.861,3.463,1.836,7.427,0.299,10.738L322.508,109.027z"}),e("polygon",{style:{fill:"none"},points:"133.371,282.278 219.172,236.141 179.502,196.47 "}),e("path",{style:{fill:"#fff"},d:"M207.795,0C93.217,0,0,93.216,0,207.793C0,322.372,93.217,415.59,207.795,415.59 c114.578,0,207.795-93.218,207.795-207.797C415.59,93.216,322.374,0,207.795,0z M207.795,391.59 C106.451,391.59,24,309.139,24,207.793C24,106.45,106.451,24,207.795,24C309.139,24,391.59,106.45,391.59,207.793 C391.59,309.139,309.139,391.59,207.795,391.59z"}),e("polygon",{style:{fill:"#0b63d5"},points:"236.153,219.179 282.282,133.371 196.48,179.507 "}),e("path",{style:{fill:"#fff"},d:"M322.198,98.284c-3.139-5.839-10.414-8.025-16.252-4.887l-135.065,72.625 c-2.073,1.115-3.773,2.814-4.887,4.888L93.398,305.945c-2.568,4.777-1.568,10.518,2.08,14.166c0.809,0.81,1.748,1.516,2.809,2.085 c3.608,1.94,7.766,1.84,11.156,0.105l0.002,0.003l0.051-0.027c0.049-0.025,0.097-0.052,0.145-0.078l135.131-72.572 c2.074-1.114,3.773-2.813,4.889-4.887l72.305-134.701c0.158-0.272,0.309-0.547,0.445-0.83l0.098-0.181l-0.012-0.004 C324.034,105.711,324.059,101.747,322.198,98.284z M133.371,282.278l46.131-85.808l39.67,39.671L133.371,282.278z M236.153,219.179 l-39.672-39.672l85.801-46.136L236.153,219.179z"})])])]),h(" Explore ")],-1)),C1=n(()=>e("button",null,[e("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e("g",{id:"SVGRepo_iconCarrier"},[e("path",{d:"M15.75 5H8.25C7.55964 5 7 5.58763 7 6.3125V19L12 15.5L17 19V6.3125C17 5.58763 16.4404 5 15.75 5Z",stroke:"#ffffff","stroke-linecap":"round","stroke-linejoin":"round"})])]),h(" Bookmarks ")],-1)),k1=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ffff",width:"24px",height:"24px"},[e("path",{d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M14 5l-1.41 1.41L16.17 11H4v2h12.17l-3.58 3.59L14 19l6-6z"})],-1)),y1={id:"navigators"},b1=n(()=>e("button",null,"Home",-1)),M1=n(()=>e("button",null,"Search",-1)),S1={id:"notification-button"},L1={class:"dot"},z1=R({__name:"HomePage",setup(_){const{app:k,auth:y}=N(),b=E(k),f=V(),t=D(),w=v(!1),m=v(!0);B(()=>{J(),t.sidebar=!1});function M(){w.value=!w.value;const s=document.querySelector("#moreOptionbtn svg");s!=null&&s.classList.contains("rotate")?s==null||s.classList.remove("rotate"):s==null||s.classList.add("rotate")}let S=setTimeout(()=>{t.authenticated===!0?t.signedUser.id===void 0&&t.signedUser.username===void 0?f.push({name:"NetworkError",query:{redirect:`${f.currentRoute.value.path}`}}):t.signedUser.id!==void 0&&t.signedUser.username===""?(console.log("User registration not finished... Logging out user....."),X(),t.authenticated=!1,f.push("/login")):m.value=!1:m.value=!1},5e3);U(()=>{clearTimeout(S);const s=document.getElementById("warningShow");s.style.display="none"});function L(){try{T(y).then(()=>{const s=t.signedUser.id,i=$(b,"users",s);t.signedUser={},q(i,{isLogined:!1}),f.push("/login")})}catch(s){console.log(s)}}return(s,i)=>{const z=x("RouterView"),r=x("RouterLink");return m.value?(l(),C(j,{key:0,"action-name":"Loading..."},null,8,["action-name"])):(l(),a("main",Z,[e("header",null,[e("button",{id:"sidebarOpenBtn",onClick:i[0]||(i[0]=g(p=>o(t).toggleSidebar(),["prevent"])),title:"Open sidebar"},K),Q,e("button",{title:o(t).themeDetails.title,id:"themeBtn",onClick:i[1]||(i[1]=(...p)=>o(t).changeTheme&&o(t).changeTheme(...p))},[e("div",Y,[e("img",{src:o(t).themeDetails.img},null,8,e1)])],8,W)]),d(z),o(t).sidebar?(l(),a("nav",t1,[e("button",{onClick:i[2]||(i[2]=g(p=>o(t).toggleSidebar(),["prevent"])),id:"togglebtn",title:"Close sidebar"},s1),o(t).signedUser.isLogined?(l(),a("section",n1,[d(r,{to:"/userProfile",id:"userProfile"},{default:c(()=>[e("button",null,[e("img",{src:o(t).signedUser.profilePicture,height:"40",alt:o(t).signedUser.fullName+"profile pic"},null,8,i1),e("span",null,H(o(t).signedUser.username),1)])]),_:1}),o(t).signedUser.isLogined?(l(),a("button",{key:0,onClick:g(M,["prevent"]),id:"moreOptionbtn"},a1,8,l1)):u("",!0)])):(l(),a("div",d1,[e("section",c1,[d(r,{to:"/login"},{default:c(()=>[u1]),_:1})]),o(t).signedUser.isLogined?u("",!0):(l(),C(r,{key:0,to:"/explore",id:"exploreBtn"},{default:c(()=>[p1]),_:1}))])),w.value?(l(),a("section",h1,[e("section",null,[g1,o(t).asReader===!0?(l(),a("span",_1,"Current")):u("",!0)]),e("section",null,[f1,o(t).asReader===!1?(l(),a("span",w1,"Current")):u("",!0)]),e("button",{onClick:i[3]||(i[3]=g((...p)=>o(t).toggleAccountType&&o(t).toggleAccountType(...p),["prevent"])),id:"switchBtn"},"Switch Account")])):u("",!0),o(t).signedUser.isLogined?(l(),a("section",m1,[d(r,{to:"/userAnalysis"},{default:c(()=>[v1]),_:1}),d(r,{to:"/explore"},{default:c(()=>[x1]),_:1}),d(r,{to:"/bookmarks"},{default:c(()=>[C1]),_:1}),e("button",{id:"signOutBtn",onClick:i[4]||(i[4]=g(p=>L(),["prevent"]))},[k1,h(" Sign Out ")])])):u("",!0)])):u("",!0),e("section",y1,[d(r,{to:"/home"},{default:c(()=>[b1]),_:1}),d(r,{to:"/search"},{default:c(()=>[M1]),_:1}),d(r,{to:"/notification"},{default:c(()=>[e("button",S1,[h("Notification"),G(e("span",L1,null,512),[[A,!o(t).signedUser.isLogined]])])]),_:1})])]))}}});const A1=I(z1,[["__scopeId","data-v-4e00d1d6"]]);export{A1 as default};
