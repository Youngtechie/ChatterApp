import{d as w,u as B,r as n,o as q,s as V,a as k,c as y,e as L,f as M,g as e,m as l,B as u,D as b,w as U,p as N,q as F,_ as D}from"./index-3c7daa31.js";import{u as P,a as T,P as E,b as H,g as x,y as O}from"./useAuth.vue_vue_type_script_lang-0a2c6dcb.js";import{u as $}from"./useUserDetails.vue_vue_type_script_lang-f8979881.js";import{_ as R}from"./useLoadingPage.vue_vue_type_style_index_0_lang-1a9153d1.js";import{S as G}from"./useSignOut.vue_vue_type_script_lang-1b0773ff.js";const o=r=>(N("data-v-95261196"),r=r(),F(),r),j={key:1,id:"otherInfoCon"},z=["onSubmit"],J={class:"fullname"},K=o(()=>e("label",{for:"fullname2"},"Full Name:",-1)),Q={class:"username"},W=o(()=>e("label",{for:"username2"},"Username:",-1)),X={class:"gender"},Y=o(()=>e("h3",null,"Choose your gender",-1)),Z={class:"radioGroup"},ee=o(()=>e("label",{for:"male2"},"Male",-1)),te=o(()=>e("label",{for:"female2"},"Female",-1)),se={class:"birthday"},oe=o(()=>e("label",{for:"birthday2"},"Birthday:",-1)),ae={class:"Location"},ne=o(()=>e("label",{for:"country2"}," Country: ",-1)),le={class:"interests"},ie={class:"section"},de=o(()=>e("label",{for:"interests"},"Interests:",-1)),ue=o(()=>e("span",{class:"example-note"},"Example: Food, Travel, Sport, Programming, Fashion, Meme",-1)),re={class:"btns"},ce=o(()=>e("input",{type:"submit",value:"Submit",class:"submit-button"},null,-1)),me=["onClick"],pe=w({__name:"AddAdditionalInfo",setup(r){const{app:C}=P(),c=B(),a=T(),h=E(C),m=n("");q(()=>{$()}),V(()=>{a.signedUser.fullName&&(m.value=a.signedUser.fullName)});const i=n(""),p=n(""),d=n(""),_=n(""),v=n(!0),f=n("");async function I(){await H(x(h,"users",`${a.signedUser.id}`),{blogName:i.value.charAt(0).toUpperCase()+i.value.slice(1).toLowerCase()+"Blog",username:i.value.charAt(0).toUpperCase()+i.value.slice(1).toLowerCase(),dateOfBirth:_.value,location:p.value,gender:d.value,isLogined:!0,interests:f.value.split(","),fullName:m.value}),c.push({name:"Home"})}async function A(){let g=a.signedUser.id;G().then(()=>{O(x(h,"users",`${g}`)).then(()=>{c.push("/"),a.signedUser={},a.authenticated=!1}).catch(t=>{console.log(t)})})}let S=setTimeout(()=>{a.signedUser.username!==void 0?a.signedUser.username.trim()!==""?c.push({name:"Home"}):v.value=!1:c.push({name:"Home"})},5e3);return k(()=>{clearTimeout(S)}),(g,t)=>v.value?(y(),L(R,{key:0,"action-name":"Loading..."},null,8,["action-name"])):(y(),M("div",j,[e("form",{onSubmit:U(I,["prevent"]),class:"otherInfoForm"},[e("section",J,[K,l(e("input",{type:"text",id:"fullname2",required:"",autocomplete:"additional-name","onUpdate:modelValue":t[0]||(t[0]=s=>m.value=s)},null,512),[[u,m.value]])]),e("section",Q,[W,l(e("input",{type:"text",id:"username2",required:"",autocomplete:"username","onUpdate:modelValue":t[1]||(t[1]=s=>i.value=s),pattern:"[^\\d]+",maxlength:"15"},null,512),[[u,i.value]])]),e("section",X,[Y,e("div",Z,[l(e("input",{type:"radio",value:"Male",name:"gender",id:"male2",required:"","onUpdate:modelValue":t[2]||(t[2]=s=>d.value=s)},null,512),[[b,d.value]]),ee,l(e("input",{type:"radio",value:"Female",name:"gender",id:"female2",required:"","onUpdate:modelValue":t[3]||(t[3]=s=>d.value=s)},null,512),[[b,d.value]]),te])]),e("section",se,[oe,l(e("input",{type:"date",id:"birthday2",required:"","onUpdate:modelValue":t[4]||(t[4]=s=>_.value=s)},null,512),[[u,_.value]])]),e("section",ae,[ne,l(e("input",{type:"text",id:"country2",placeholder:"Country",required:"",autocomplete:"country-name","onUpdate:modelValue":t[5]||(t[5]=s=>p.value=s)},null,512),[[u,p.value]])]),e("div",le,[e("div",ie,[de,l(e("input",{type:"text",id:"interests",placeholder:"Posts tags separate with a comma",required:"","onUpdate:modelValue":t[6]||(t[6]=s=>f.value=s)},null,512),[[u,f.value]])]),ue]),e("section",re,[ce,e("button",{onClick:U(A,["prevent"]),class:"delete-button"},"Delete Account",8,me)])],40,z)]))}});const ye=D(pe,[["__scopeId","data-v-95261196"]]);export{ye as default};
