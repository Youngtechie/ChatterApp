import{d as C,u as k,r as a,o as B,b as y,c as V,e as q,f as e,i as n,y as u,A as g,w as b,p as L,m as S,_ as M}from"./index-2332f67b.js";import{P as $,a as D,g as U,y as F}from"./index.esm2017-1c1d52a4.js";import{u as P,a as H}from"./useAuth.vue_vue_type_script_lang-9fa7d3e2.js";import{u as T}from"./useUserDetails.vue_vue_type_script_lang-87b949d5.js";import{_ as E}from"./useLoadingPage.vue_vue_type_style_index_0_lang-65d27e50.js";import"./index.esm-06e63244.js";import"./index.esm2017-a0d21084.js";const s=r=>(L("data-v-96624918"),r=r(),S(),r),O={key:1,id:"otherInfoCon"},R={class:"username"},G=s(()=>e("label",{for:"username2"},"Username:",-1)),N={class:"gender"},j=s(()=>e("h3",null,"Choose your gender",-1)),z={class:"radioGroup"},J=s(()=>e("label",{for:"male2"},"Male",-1)),K=s(()=>e("label",{for:"female2"},"Female",-1)),Q={class:"birthday"},W=s(()=>e("label",{for:"birthday2"},"Birthday:",-1)),X={class:"Location"},Y=s(()=>e("label",{for:"country2"}," Country: ",-1)),Z={class:"interests"},ee={class:"section"},te=s(()=>e("label",{for:"interests"},"Interests:",-1)),oe=s(()=>e("span",{class:"example-note"},"Example: food, travel, sport, programming",-1)),se={class:"btns"},ae=s(()=>e("input",{type:"submit",value:"Submit",class:"submit-button"},null,-1)),ne=C({__name:"AddAdditionalInfo",setup(r){T();const{app:A}=P(),p=k(),i=H(),v=$(A),d=a(""),m=a(""),l=a(""),c=a(""),f=a(!0),_=a("");async function I(){await D(U(v,"users",`${i.signedUser.id}`),{profilePicture:"ChatterAppFiles/avatar/unknown/UnkownUser.png",username:d.value.charAt(0).toUpperCase()+d.value.slice(1).toLowerCase(),dateOfBirth:c.value,location:m.value,gender:l.value,isLogined:!0,interests:_.value.split(",")}),p.push({name:"Home"})}async function w(){let h=i.signedUser.id;await F(U(v,"users",`${h}`)),i.signedUser={},i.authenticated=!1,p.push({name:"Home"})}let x=setTimeout(()=>{i.signedUser.username.trim()===""?f.value=!1:p.push({name:"Home"})},5e3);return B(()=>{clearTimeout(x)}),(h,t)=>f.value?(y(),V(E,{key:0,"action-name":"Loading..."},null,8,["action-name"])):(y(),q("div",O,[e("form",{onSubmit:t[7]||(t[7]=b(o=>I(),["prevent"])),class:"otherInfoForm"},[e("section",R,[G,n(e("input",{type:"text",id:"username2",required:"",autocomplete:"username","onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),pattern:"[^\\d]+"},null,512),[[u,d.value]])]),e("section",N,[j,e("div",z,[n(e("input",{type:"radio",value:"Male",name:"gender",id:"male2",required:"","onUpdate:modelValue":t[1]||(t[1]=o=>l.value=o)},null,512),[[g,l.value]]),J,n(e("input",{type:"radio",value:"Female",name:"gender",id:"female2",required:"","onUpdate:modelValue":t[2]||(t[2]=o=>l.value=o)},null,512),[[g,l.value]]),K])]),e("section",Q,[W,n(e("input",{type:"date",id:"birthday2",required:"","onUpdate:modelValue":t[3]||(t[3]=o=>c.value=o)},null,512),[[u,c.value]])]),e("section",X,[Y,n(e("input",{type:"text",id:"country2",placeholder:"Country",required:"",autocomplete:"country-name","onUpdate:modelValue":t[4]||(t[4]=o=>m.value=o)},null,512),[[u,m.value]])]),e("div",Z,[e("div",ee,[te,n(e("input",{type:"text",id:"interests",placeholder:"Posts tags separate with a comma",required:"","onUpdate:modelValue":t[5]||(t[5]=o=>_.value=o)},null,512),[[u,_.value]])]),oe]),e("section",se,[ae,e("button",{onClick:t[6]||(t[6]=b(o=>w(),["prevent"])),class:"delete-button"},"Delete Account")])],32)]))}});const ce=M(ne,[["__scopeId","data-v-96624918"]]);export{ce as default};
